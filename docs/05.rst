お題を元にドローンを飛ばしてみよう
==================================================

お題を元に、ドローンを自動操縦するプログラムを作成してください。

theme.jsの作成
-------------------------------------------

以下のコードをテキストエディタで入力し、「theme.js」として保存します。

.. code-block:: js

  'use strict';

  // モジュールの読み込み
  var RollingSpider = require("rolling-spider");
  var keypress = require('keypress');
  keypress(process.stdin);
  process.stdin.setRawMode(true);
  process.stdin.resume();

  // 変数の設定
  var ACTIVE = true;
  var STEPS = 5;
  var temporal = require('temporal');

  //DronのUUIDに書き換えましょう
  var d = new RollingSpider({ uuid: "*****************"});

  // キー操作後に少しのあいだ入力を受け付けないようにする
  function cooldown() {
    ACTIVE = false;
    setTimeout(function() {
      ACTIVE = true;
    }, STEPS);
  }

  // ドローンとの接続
  d.connect(function() {
    d.setup(function() {　　　
      d.flatTrim();　　
      d.startPing();　　
      d.flatTrim();　
      console.log('Connected to drone => ', d.name);
      ACTIVE = true;
    });
  });

  // お題１のメソッド
  function theme1() {
      // ここにお題１の処理を書く
  }

  // お題２のメソッド
  function theme2() {
  　　// ここにお題２の処理を書く
  }

  // お題３のメソッド
  function theme3() {
  　　// ここにお題３の処理を書く
  }

  // キーボードからの入力イベント
  process.stdin.on('keypress', function(ch, key) {
    console.log('got "keypress" => ', key);　
    if (ACTIVE && key) {

    　// 3秒後に緊急停止
      if (key.name === 'e') {　
        console.log('emergency');
        d.emergency();
        setTimeout(() => {
      　  process.exit();
      　}, 3000);　
    　}

    　// ここから、各々のお題メソッドを呼び出す処理を書く

    }
  });


お題その１
-------------------------------------------

キーボードの **v** ボタンを押したら

 1. 離陸する
 2. 前進する
 3. 後進する
 4. 着陸する
 5. 接続解除する


お題その２
-------------------------------------------

キーボードの **b** ボタンを押したら

 1. 離陸する
 2. 90°右旋回する
 3. 左に宙返りする
 4. 180°左旋回する
 5. 着陸する
 6. 接続解除する

お題その3
-------------------------------------------

キーボードの **u** ボタンを押したら

- ハンガーラックを超えて元の場所に戻ってくる。
